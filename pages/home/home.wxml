<!--pages/home/home.wxml-->
<wxs src="../../module/change_string_length.wxs" module="stringUtils"></wxs>

<view class="home">
  <!-- 顶部搜索框 -->
  <search-bar placeholder="查找你想要的商品" bind:handleSearch="handleSearch"></search-bar>
  <view style="height: 70rpx; display: flex;"></view>
  <!-- 滑动广告栏 -->
  <swiper class="lunbo" indicator-dots autoplay="true" interval="4000" circular="true"  style="height: 330rpx;">
    <swiper-item> 
      <image class="swiper-picture-item" src="/image/home_1.png"></image>
    </swiper-item>
    <swiper-item>
      <image class="swiper-picture-item" src="/image/home_2.jpg"></image>
    </swiper-item>
    <swiper-item>
      <image class="swiper-picture-item" src="/image/home_3.jpg"></image>
    </swiper-item>
  </swiper>

  <!-- 分类栏 -->
  <view style="display: flex;">
        <view class="fenlei" data-value="0" bindtap="goto_tab">
            <image src="/image/gift.png" style="display: flex; height: 90rpx; width: 90rpx; margin-left: 30rpx;"></image>
            <text style="justify-content: center; display: flex;">特产</text>
        </view>

        <view class="fenlei" data-value="1" bindtap="goto_tab">
            <image src="/image/vegetable.png" style="display: flex; height: 90rpx; width: 90rpx; margin-left: 30rpx;"></image>
            <text style="justify-content: center; display: flex;">蔬菜</text>
        </view>

        <view class="fenlei" data-value="2" bindtap="goto_tab">
            <image src="/image/apple.png" style="display: flex; height: 90rpx; width: 90rpx; margin-left: 30rpx;"></image>
            <text style="justify-content: center; display: flex;">水果</text>
        </view>

        <view class="fenlei" data-value="3" bindtap="goto_tab">
            <image src="/image/sheep.png" style="display: flex; height: 90rpx; width: 90rpx; margin-left: 30rpx;"></image>
            <text style="justify-content: center; display: flex;">农牧</text>
        </view>
  </view>
  

  <!-- 商品栏 -->
  <view class="box-container">
    <view class="box-left">
      <view wx:for="{{ productsLeft }}" wx:key="index" data-value="{{productsLeft[index].Id}}" bindtap="goto_goods" class="item-container">
        <view class="item">
          <image src="{{'https://7072-prod-0guks42iab6ab66f-1311448235.tcb.qcloud.la/assert/image/product/'+item.Id+'/view.png'}}" style="height: 330rpx;"></image>
          <view class="title">{{ stringUtils.subString(item.Title,0,23) }}</view>
          <view class="description">{{ stringUtils.subString(item.Description,0,48) }}</view>
          <view class="price-container">
            <view class="price-icon">￥</view>
            <view class="price">{{ item.Price }}</view>
            <view class="price-per">/份</view>
          </view>
        </view>
      </view>
    </view>
    <view class="box-right">
      <view wx:for="{{ productsRight }}" wx:key="index" data-value="{{productsRight[index].Id}}"bindtap="goto_goods" class="item-container">
        <view class="item">
          <image src="{{'https://7072-prod-0guks42iab6ab66f-1311448235.tcb.qcloud.la/assert/image/product/'+item.Id+'/view.png'}}" style="height: 330rpx;"></image>
          <view class="title">{{ stringUtils.subString(item.Title,0,23) }}</view>
          <view class="description">{{ stringUtils.subString(item.Description,0,32) }}</view>
          <view class="price-container">
            <view class="price-icon">￥</view>
            <view class="price">{{ item.Price }}</view>
            <view class="price-per">/份</view>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>
